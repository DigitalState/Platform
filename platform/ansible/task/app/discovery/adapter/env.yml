---
- name: Assemble discovery env services
  set_fact:
    discovery_env_services: >
      {
        "{{ namespace }}_assets_api_http": "{{ app.assets.api.host if app.assets.enabled else "" }}",
        "{{ namespace }}_authentication_api_http": "{{ app.authentication.api.host if app.authentication.enabled else "" }}",
        "{{ namespace }}_cases_api_http": "{{ app.cases.api.host if app.cases.enabled else "" }}",
        "{{ namespace }}_cms_api_http": "{{ app.cms.api.host if app.cms.enabled else "" }}",
        "{{ namespace }}_formio_api_http": "{{ app.formio.api.host if app.formio.enabled else "" }}",
        "{{ namespace }}_forms_api_http": "{{ app.forms.api.host if app.forms.enabled else "" }}",
        "{{ namespace }}_identities_api_http": "{{ app.identities.api.host if app.identities.enabled else "" }}",
        "{{ namespace }}_microservice_api_http": "{{ app.microservice.api.host if app.microservice.enabled else "" }}",
        "{{ namespace }}_records_api_http": "{{ app.records.api.host if app.records.enabled else "" }}",
        "{{ namespace }}_services_api_http": "{{ app.services.api.host if app.services.enabled else "" }}",
        "{{ namespace }}_tasks_api_http": "{{ app.tasks.api.host if app.tasks.enabled else "" }}",
        "{{ namespace }}_tenants_api_http": "{{ app.tenants.api.host if app.tenants.enabled else "" }}",
        "{{ namespace }}_workflow_api_http": "{{ app.workflow.api.host if app.workflow.enabled else "" }}"
      }
